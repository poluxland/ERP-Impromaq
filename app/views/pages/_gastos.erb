

<!-- Cards OPs -->
<div class="card-deck pt-0">
  <div class="card shadow">
    <div class="card-body">
      <h5 class="card-title"><i class="fas fa-file-invoice-dollar text-success"></i> Gastos LCA </h5>
        <p class="card-text">
          <a href="<%= gastoslca_path %>">
            <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).sum(:monto_neto), delimiter: ".", precision: 0) %> Gastado<br>
          </a>
          <a href="<%= gastoslcapagado_path %>">
          <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).where(estado: "Pagado").sum(:monto_neto), delimiter: ".", precision: 0) %> Pagado<br>
          </a>
          <a href="<%= gastoslcapend_path %>">
            <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).where(estado: "Pendiente").sum(:monto_neto), delimiter: ".", precision: 0) %> Pendiente de pago
          </a>

<br><br>


          <a href="<%= gastoslcames_path %>">
            <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).where(:created_at => Date.today.beginning_of_month..Date.today.end_of_month).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 0.month).strftime("%B") %> <br>
          </a>
          <a href="<%= gastoslcames1m_path %>">
          <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).where(:created_at => ((Date.today.beginning_of_month) - 1.month)..((Date.today.end_of_month) - 1.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 1.month).strftime("%B") %><br>
          </a>
          <a href="<%= gastoslcames2m_path %>">
            <%= number_to_currency(Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).where(:created_at => ((Date.today.beginning_of_month) - 2.month)..((Date.today.end_of_month) - 2.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 2.month).strftime("%B") %><br>
          </a>

          <%= bar_chart Gasto.where(cc: [ "ADM", "ENV", "SER", "CMEC", "TRANS", "NGP", "H09"]).group_by_month(:created_at).sum(:monto_neto) %>


        </p>
    </div>
    <div class="card-footer">
      <small class="text-muted">Sin asignar <%= number_to_currency(Gasto.where(cc: [nil, ""]).sum(:monto_neto), delimiter: ".", precision: 0) %> <br></small>
    </div>
  </div>
  <div class="card shadow">
    <div class="card-body">
      <h5 class="card-title"><i class="fas fa-file-invoice-dollar text-success"></i> Gastos VTS</h5>
      <p class="card-text">
        <a href="<%= gastosvts_path %>">
          <%= number_to_currency(Gasto.where(cc: "VTS").sum(:monto_neto), delimiter: ".", precision: 0) %> Gastado<br>
        </a>
        <a href="<%= gastosvtspagado_path %>">
        <%= number_to_currency(Gasto.where(cc: "VTS").where(estado: "Pagado").sum(:monto_neto), delimiter: ".", precision: 0) %> Pagado<br>
        </a>
        <a href="<%= gastosvtspagado_path %>">
        <%= number_to_currency(Gasto.where(cc: "VTS").where(estado: "Pendiente").sum(:monto_neto), delimiter: ".", precision: 0) %> Pendiente de pago
        </a>

        <br><br>


                  <a href="<%= gastosvtsmes_path %>">
                    <%= number_to_currency(Gasto.where(cc: "VTS").where(:created_at => Date.today.beginning_of_month..Date.today.end_of_month).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 0.month).strftime("%B") %> <br>
                  </a>
                  <a href="<%= gastosvtsmes1m_path %>">
                  <%= number_to_currency(Gasto.where(cc: "VTS").where(:created_at => ((Date.today.beginning_of_month) - 1.month)..((Date.today.end_of_month) - 1.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 1.month).strftime("%B") %><br>
                  </a>
                  <a href="<%= gastosvtsmes2m_path %>">
                    <%= number_to_currency(Gasto.where(cc: "VTS").where(:created_at => ((Date.today.beginning_of_month) - 2.month)..((Date.today.end_of_month) - 2.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 2.month).strftime("%B") %><br>
                  </a>

                  <%= bar_chart Gasto.where(cc: "VTS").group_by_month_of_year(:created_at).sum(:monto_neto) %>



      </p>
    </div>
    <div class="card-footer">
      <small class="text-muted">Sin asignar <%= number_to_currency(Gasto.where(cc: [nil, ""]).sum(:monto_neto), delimiter: ".", precision: 0) %> <br></small>
    </div>
  </div>
  <div class="card shadow">
    <div class="card-body">
      <h5 class="card-title"><i class="fas fa-file-invoice-dollar text-success"></i> Gastos PTM</h5>
      <p class="card-text">
        <a href="<%= gastosptm_path %>">
          <%= number_to_currency(Gasto.where(cc: "PTM").sum(:monto_neto), delimiter: ".", precision: 0) %> Gastado<br>
        </a>
        <a href="<%= gastosptmpagado_path %>">
          <%= number_to_currency(Gasto.where(cc: "PTM").where(estado: "Pagado").sum(:monto_neto), delimiter: ".", precision: 0) %> Pagado<br>
        </a>
        <a href="<%= gastosptmpend_path %>">
          <%= number_to_currency(Gasto.where(cc: "PTM").where(estado: "Pendiente").sum(:monto_neto), delimiter: ".", precision: 0) %> Pendiente de pago
        </a>


        <br><br>


                  <a href="<%= gastosptmmes_path %>">
                    <%= number_to_currency(Gasto.where(cc: "PTM").where(:created_at => Date.today.beginning_of_month..Date.today.end_of_month).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 0.month).strftime("%B") %> <br>
                  </a>
                  <a href="<%= gastosptmmes1m_path %>">
                  <%= number_to_currency(Gasto.where(cc: "PTM").where(:created_at => ((Date.today.beginning_of_month) - 1.month)..((Date.today.end_of_month) - 1.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 1.month).strftime("%B") %><br>
                  </a>
                  <a href="<%= gastosptmmes2m_path %>">
                    <%= number_to_currency(Gasto.where(cc: "PTM").where(:created_at => ((Date.today.beginning_of_month) - 2.month)..((Date.today.end_of_month) - 2.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 2.month).strftime("%B") %><br>
                  </a>
                  <%= bar_chart Gasto.where(cc: "PTM").group_by_month_of_year(:created_at).sum(:monto_neto) %>



      </p>
    </div>
    <div class="card-footer">
      <small class="text-muted">Sin asignar <%= number_to_currency(Gasto.where(cc: [nil, ""]).sum(:monto_neto), delimiter: ".", precision: 0) %> <br></small>
    </div>
  </div>
  <div class="card shadow">
    <div class="card-body">
      <h5 class="card-title"><i class="fas fa-file-invoice-dollar text-success"></i> Gastos PUQ </h5>
      <p class="card-text">
        <a href="<%= gastospuq_path %>">
          <%= number_to_currency(Gasto.where(cc: "PUQ").sum(:monto_neto), delimiter: ".", precision: 0) %> Gastado<br>
        </a>
        <a href="<%= gastospuqpagado_path %>">
          <%= number_to_currency(Gasto.where(cc: "PUQ").where(estado: "Pagado").sum(:monto_neto), delimiter: ".", precision: 0) %> Pagado<br>
        </a>
        <a href="<%= gastospuqpend_path %>">
        <%= number_to_currency(Gasto.where(cc: "PUQ").where(estado: "Pendiente").sum(:monto_neto), delimiter: ".", precision: 0) %> Pendiente de pago
        </a>
        <br><br>


                  <a href="<%= gastospuqmes_path %>">
                    <%= number_to_currency(Gasto.where(cc: "PUQ").where(:created_at => Date.today.beginning_of_month..Date.today.end_of_month).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 0.month).strftime("%B") %> <br>
                  </a>
                  <a href="<%= gastospuqmes1m_path %>">
                  <%= number_to_currency(Gasto.where(cc: "PUQ").where(:created_at => ((Date.today.beginning_of_month)- 1.month)..((Date.today.end_of_month) - 1.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 1.month).strftime("%B") %><br>
                  </a>

                  <a href="<%= gastospuqmes2m_path %>">
                    <%= number_to_currency(Gasto.where(cc: "PUQ").where(:created_at => ((Date.today.beginning_of_month) - 2.month)..((Date.today.end_of_month) - 2.month)).sum(:monto_neto), delimiter: ".", precision: 0) %> <%= (Date.today - 2.month).strftime("%B") %><br>
                  </a>


                  <%= bar_chart Gasto.where(cc: "PUQ").group_by_month_of_year(:created_at).sum(:monto_neto) %>

      </p>
    </div>
    <div class="card-footer">
      <small class="text-muted">Sin asignar <%= number_to_currency(Gasto.where(cc: [nil, ""]).sum(:monto_neto), delimiter: ".", precision: 0) %> <br></small>
    </div>
  </div>
</div>
